(this["webpackJsonptodolist-ts"]=this["webpackJsonptodolist-ts"]||[]).push([[0],{118:function(t,e,a){},145:function(t,e,a){},146:function(t,e,a){"use strict";a.r(e);var n,i,c=a(0),o=a.n(c),r=a(31),s=a.n(r),d=a(100),l=a(204),u=a(210),j=a(211),b=a(206),O=a(209),f=a(202),h=a(213),m=(a(118),a(193)),p=a(203),T=a(205),g=a(26),k=a(16),x=a(5),v=a(14),S={status:"loading",error:null},C=function(t){return{type:"APP/SET-ERROR",error:t}},I=function(t){return{type:"APP/SET-STATUS",status:t}},y=a(44),E=a.n(y),w=E.a.create(Object(v.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"d215560e-a06c-4471-95ae-fec7d89d460b"}})),A=function(t){return w.get("todo-lists/".concat(t,"/tasks"))},D=function(t,e){return w.delete("todo-lists/".concat(t,"/tasks/").concat(e))},L=function(t,e){return w.post("todo-lists/".concat(t,"/tasks/"),{title:e})},P=function(t,e,a){return w.put("todo-lists/".concat(t,"/tasks/").concat(e),a)};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(n||(n={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t["\u041digh"]=2]="\u041digh",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(i||(i={}));var N=function(t,e){t.messages.length?e(C(t.messages[0])):e(C("Some error occurred")),e(I("failed"))},R=function(t,e){e(C(t.message)),e(I("failed"))},F={},U=function(t,e,a){return function(n,i){var c=i().tasks[t].find((function(t){return t.id===a}));if(c){var o=Object(v.a)({title:c.title,description:c.description,priority:c.priority,startDate:c.startDate,deadline:c.deadline,status:c.status},e);n(I("loading")),P(t,a,o).then((function(i){0===i.data.resultCode?n(function(t,e,a){return{type:"UPDATE-TASK",taskId:t,model:e,todolistId:a}}(a,e,t)):N(i.data,n)})).catch((function(t){R(t,n)}))}else console.warn("Some error with change task!")}},K=E.a.create(Object(v.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"d215560e-a06c-4471-95ae-fec7d89d460b"}})),M=function(){return K.get("todo-lists/")},_=function(t){return K.post("todo-lists/",{title:t})},G=function(t){return K.delete("todo-lists/".concat(t))},H=function(t,e){return K.put("todo-lists/".concat(t),{title:e})},V=a(199),Y=(Object(V.a)(),Object(V.a)(),[]),B=a(13),Z=a(194),q=a(2),J=o.a.memo((function(t){var e=t.addItem,a=t.disabled,n=void 0!==a&&a,i=Object(c.useState)(""),o=Object(B.a)(i,2),r=o[0],s=o[1],d=Object(c.useState)(null),l=Object(B.a)(d,2),u=l[0],j=l[1],b=function(){""!==r.trim()?(e(r),s("")):(j("Field is required!"),s(""))};return Object(q.jsx)("div",{children:Object(q.jsxs)("div",{children:[Object(q.jsx)(Z.a,{disabled:n,onChange:function(t){j(null),s(t.currentTarget.value)},onKeyPress:function(t){13===t.charCode&&b()},variant:"standard",label:"Title",value:r,helperText:u,error:!!u,color:"primary"}),Object(q.jsx)(f.a,{disabled:n,onClick:b,variant:"contained",style:{backgroundColor:"#61dafb"},children:"+"})]})})})),z=a(191),Q=o.a.memo((function(t){var e=Object(c.useState)(!1),a=Object(B.a)(e,2),n=a[0],i=a[1],o=Object(c.useState)(""),r=Object(B.a)(o,2),s=r[0],d=r[1];return n?Object(q.jsx)(Z.a,{value:s,onChange:function(t){d(t.currentTarget.value)},onBlur:function(){i(!1),t.onChangeTitle(s)},autoFocus:!0}):Object(q.jsx)("span",{onDoubleClick:function(){i(!0),d(t.title)},children:t.title})})),$=a(196),W=a(94),X=a.n(W),tt=o.a.memo((function(t){var e=Object(c.useCallback)((function(){t.removeTask(t.task.id,t.todolistId)}),[t.removeTask,t.task.id,t.todolistId]),a=Object(c.useCallback)((function(e){t.changeTaskStatus(t.task.id,e.currentTarget.checked?n.Completed:n.New,t.todolistId)}),[t.changeTaskStatus,t.task.id,t.todolistId]),i=Object(c.useCallback)((function(e){t.changeTaskTitle(t.task.id,e,t.todolistId)}),[t.changeTaskTitle,t.task.id,t.todolistId]);return Object(q.jsxs)("div",{className:t.task.status===n.Completed?X.a.is_done:"",children:[Object(q.jsx)($.a,{checked:t.task.status===n.Completed,onChange:a,style:{color:"#61dafb"}}),Object(q.jsx)(Q,{onChangeTitle:i,title:t.task.title}),Object(q.jsx)(b.a,{children:Object(q.jsx)(z.a,{onClick:e})})]},t.task.id)})),et=a(95),at=a.n(et),nt=o.a.memo((function(t){var e=Object(g.b)();Object(c.useEffect)((function(){var a;e((a=t.todolist.id,function(t){t(I("loading")),A(a).then((function(e){t(function(t,e){return{type:"SET-TASKS",tasks:t,todolistId:e}}(e.data.items,a)),t(I("succeeded"))}))}))}),[]);var a=Object(c.useCallback)((function(e){t.changeTodolistTitle(t.todolist.id,e)}),[t.changeTodolistTitle,t.todolist.id]),i=Object(c.useCallback)((function(e){t.addTask(e,t.todolist.id)}),[t.addTask,t.todolist.id]),o=Object(c.useCallback)((function(){t.changeFilter("all",t.todolist.id)}),[t.changeFilter,t.todolist.id]),r=Object(c.useCallback)((function(){t.changeFilter("active",t.todolist.id)}),[t.changeFilter,t.todolist.id]),s=Object(c.useCallback)((function(){t.changeFilter("completed",t.todolist.id)}),[t.changeFilter,t.todolist.id]),d=t.tasks;return"active"===t.todolist.filter&&(d=d.filter((function(t){return t.status===n.New}))),"completed"===t.todolist.filter&&(d=d.filter((function(t){return t.status===n.Completed}))),Object(q.jsx)("div",{className:at.a.todolist,children:Object(q.jsxs)("div",{children:[Object(q.jsxs)("h2",{children:[Object(q.jsx)(Q,{onChangeTitle:a,title:t.todolist.title}),Object(q.jsx)(b.a,{disabled:"loading"===t.todolist.entytiStatus,onClick:function(){t.removeTodolist(t.todolist.id)},children:Object(q.jsx)(z.a,{})})]}),Object(q.jsx)(J,{addItem:i,disabled:"loading"===t.todolist.entytiStatus}),Object(q.jsx)("div",{children:d.map((function(e){return Object(q.jsx)(tt,{task:e,todolistId:t.todolist.id,removeTask:t.removeTask,changeTaskStatus:t.changeTaskStatus,changeTaskTitle:t.changeTaskTitle},e.id)}))}),Object(q.jsxs)("div",{children:[Object(q.jsx)(f.a,{onClick:o,variant:"all"===t.todolist.filter?"contained":"outlined",style:"all"===t.todolist.filter?{backgroundColor:"#61dafb",color:"",margin:"3px"}:{backgroundColor:"",color:"#61dafb",border:" 1px solid #61dafb",margin:"3px"},children:" All"}),Object(q.jsx)(f.a,{onClick:r,variant:"active"===t.todolist.filter?"contained":"outlined",style:"active"===t.todolist.filter?{backgroundColor:"#61dafb",color:"",margin:"3px"}:{backgroundColor:"",color:"#61dafb",border:" 1px solid #61dafb",margin:"3px"},children:"Active"}),Object(q.jsx)(f.a,{onClick:s,variant:"completed"===t.todolist.filter?"contained":"outlined",style:"completed"===t.todolist.filter?{backgroundColor:"#61dafb",color:"",margin:"3px"}:{backgroundColor:"",color:"#61dafb",border:" 1px solid #61dafb",margin:"3px"},children:"Completed"})]})]})})})),it=function(){var t=Object(g.b)(),e=Object(g.c)((function(t){return t.todolists})),a=Object(g.c)((function(t){return t.tasks}));Object(c.useEffect)((function(){t((function(t){t(I("loading")),M().then((function(e){t({type:"SET-TODOLISTS",todolists:e.data}),t(I("succeeded"))}))}))}),[]);var n=Object(c.useCallback)((function(e){t(function(t){return function(e){e(I("loading")),e({type:"CHANGE-TODOLIST-ENTYTI-STATUS",id:t,status:"loading"}),G(t).then((function(a){e(function(t){return{type:"REMOVE-TODOLIST",id:t}}(t)),e(I("succeeded"))}))}}(e))}),[t]),i=Object(c.useCallback)((function(e){t(function(t){return function(e){e(I("loading")),_(t).then((function(t){e({type:"ADD-TODOLIST",todolist:Object(v.a)(Object(v.a)({},t.data.data.item),{},{filter:"all",entytiStatus:"idle"})}),e(I("succeeded"))}))}}(e))}),[t]),o=Object(c.useCallback)((function(e,a){t(function(t,e){return function(a){a(I("loading")),H(t,e).then((function(n){a(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",id:t,title:e}}(t,e)),a(I("succeeded"))}))}}(e,a))}),[t]),r=Object(c.useCallback)((function(e,a){t({type:"CHANGE-TODOLIST-FILTER",id:a,filter:e})}),[t]),s=Object(c.useCallback)((function(e,a){t(function(t,e){return function(a){a(I("loading")),D(t,e).then((function(n){a(function(t,e){return{type:"REMOVE-TASK",taskId:t,todolistId:e}}(e,t)),a(I("succeeded"))}))}}(a,e))}),[t]),d=Object(c.useCallback)((function(e,a){t(function(t,e){return function(a){a(I("loading")),L(e,t).then((function(t){0===t.data.resultCode?(a({type:"ADD-TASK",task:t.data.data.item}),a(I("succeeded"))):N(t.data,a)})).catch((function(t){R(t,a)}))}}(e,a))}),[t]),l=Object(c.useCallback)((function(e,a,n){t(U(n,{status:a},e))}),[t]),u=Object(c.useCallback)((function(e,a,n){t(U(n,{title:a},e))}),[t]);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(p.a,{container:!0,style:{padding:"20px"},children:Object(q.jsx)(J,{addItem:i})}),Object(q.jsx)(p.a,{container:!0,spacing:10,children:e.map((function(t){var e=a[t.id];return Object(q.jsx)(p.a,{item:!0,children:Object(q.jsxs)(T.a,{style:{padding:"20px",backgroundColor:" #263648"},children:["      ",Object(q.jsx)(nt,{todolist:t,tasks:e,changeFilter:r,removeTask:s,addTask:d,changeTaskStatus:l,changeTaskTitle:u,removeTodolist:n,changeTodolistTitle:o},t.id)]})})}))})]})},ct=a(212),ot=a(198),rt=a(197),st=o.a.forwardRef((function(t,e){return Object(q.jsx)(rt.a,Object(v.a)({elevation:6,ref:e,variant:"filled"},t))}));function dt(){var t=Object(g.c)((function(t){return t.app.error})),e=Object(g.b)(),a=function(t,a){"clickaway"!==a&&e(C(null))},n=null!==t;return Object(q.jsx)(ot.a,{open:n,autoHideDuration:6e3,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(q.jsx)(st,{onClose:a,severity:"error",sx:{width:"100%"},children:t})})}var lt=a(200),ut=a(208),jt=a(207),bt=a(189),Ot=a(99),ft=E.a.create(Object(v.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"d215560e-a06c-4471-95ae-fec7d89d460b"}})),ht=function(t){return ft.post("auth/login",{payload:t})},mt={email:"",password:"",rememberMe:!1,captcha:""},pt=function(){var t=Object(g.b)(),e=Object(Ot.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Email is required",t.password?t.password.length<2&&(e.password="Invalid password"):e.password="Password is required",e},onSubmit:function(a){var n;t((n=a,function(t){t(I("loading")),ht(n).then((function(e){0===e.data.resultCode?t(I("succeeded")):N(e.data,t)})).catch((function(e){R(e,t)}))})),e.resetForm()}});return Object(q.jsx)(p.a,{container:!0,justifyContent:"center",children:Object(q.jsx)(p.a,{item:!0,justifyContent:"center",children:Object(q.jsx)("form",{onSubmit:e.handleSubmit,children:Object(q.jsxs)(lt.a,{children:[Object(q.jsxs)(bt.a,{children:[Object(q.jsxs)("p",{children:["To log in get registered",Object(q.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",children:" here"})]}),Object(q.jsx)("p",{children:"or use common test account credentials:"}),Object(q.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(q.jsx)("p",{children:"Password: free"})]}),Object(q.jsxs)(jt.a,{children:[Object(q.jsx)(Z.a,Object(v.a)(Object(v.a)({label:"Email",margin:"normal"},e.getFieldProps("email")),{},{onBlur:e.handleBlur})),e.touched.email&&e.errors.email?Object(q.jsx)("div",{style:{color:"red"},children:e.errors.email}):null,Object(q.jsx)(Z.a,Object(v.a)({type:"password",label:"Password",margin:"normal"},e.getFieldProps("password"))),e.touched.password&&e.errors.password?Object(q.jsx)("div",{style:{color:"red"},children:e.errors.password}):null,Object(q.jsx)(ut.a,{label:"Remember me",control:Object(q.jsx)($.a,Object(v.a)(Object(v.a)({},e.getFieldProps("rememberMe")),{},{checked:e.values.rememberMe}))}),Object(q.jsx)(f.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})]})})})})},Tt=a(15);var gt=function(){var t=Object(g.c)((function(t){return t.app.status}));return Object(q.jsxs)("div",{className:"App",children:[Object(q.jsxs)(u.a,{position:"static",children:[Object(q.jsxs)(j.a,{children:[Object(q.jsx)(b.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(O.a,{variant:"h6",children:"News"}),Object(q.jsx)(f.a,{color:"inherit",children:"Login"})]}),"loading"===t&&Object(q.jsx)(ct.a,{})]}),Object(q.jsx)(h.a,{fixed:!0,children:Object(q.jsxs)(Tt.c,{children:[Object(q.jsx)(Tt.a,{path:"/login",element:Object(q.jsx)(pt,{})}),Object(q.jsx)(Tt.a,{path:"/",element:Object(q.jsx)(it,{})}),Object(q.jsx)(Tt.a,{path:"*",element:Object(q.jsx)("h1",{children:"404: PAGE NOT FOUND"})})]})}),Object(q.jsx)(dt,{}),"      "]})},kt=a(66),xt=a(98),vt=Object(kt.b)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.id}));case"ADD-TODOLIST":return[Object(v.a)({},e.todolist)].concat(Object(k.a)(t));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id==e.id?Object(v.a)(Object(v.a)({},t),{},{title:e.title}):t}));case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id==e.id?Object(v.a)(Object(v.a)({},t),{},{filter:e.filter}):t}));case"CHANGE-TODOLIST-ENTYTI-STATUS":return t.map((function(t){return t.id==e.id?Object(v.a)(Object(v.a)({},t),{},{entytiStatus:e.status}):t}));case"SET-TODOLISTS":return e.todolists.map((function(t){return Object(v.a)(Object(v.a)({},t),{},{filter:"all",entytiStatus:"idle"})}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":return Object(v.a)(Object(v.a)({},t),{},Object(x.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case"ADD-TASK":return Object(v.a)(Object(v.a)({},t),{},Object(x.a)({},e.task.todoListId,[e.task].concat(Object(k.a)(t[e.task.todoListId]))));case"UPDATE-TASK":return Object(v.a)(Object(v.a)({},t),{},Object(x.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(v.a)(Object(v.a)({},t),e.model):t}))));case"ADD-TODOLIST":return Object(v.a)(Object(v.a)({},t),{},Object(x.a)({},e.todolist.id,[]));case"REMOVE-TODOLIST":return delete t[e.id],Object(v.a)({},t);case"SET-TODOLISTS":return e.todolists.forEach((function(e){t[e.id]=[]})),Object(v.a)({},t);case"SET-TASKS":return Object(v.a)(Object(v.a)({},t),{},Object(x.a)({},e.todolistId,e.tasks));default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"APP/SET-STATUS":return Object(v.a)(Object(v.a)({},t),{},{status:e.status});case"APP/SET-ERROR":return Object(v.a)(Object(v.a)({},t),{},{error:e.error});default:return t}},login:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,e=arguments.length>1?arguments[1]:void 0;return e.type,t}}),St=Object(kt.c)(vt,Object(kt.a)(xt.a));window.store=St;a(145);var Ct=a(74),It=Object(d.a)({palette:{primary:{main:"#61dafb "},secondary:{main:"#ffffff"}}});s.a.render(Object(q.jsx)(o.a.StrictMode,{children:Object(q.jsx)(Ct.a,{children:Object(q.jsx)(g.a,{store:St,children:Object(q.jsx)(l.a,{theme:It,children:Object(q.jsx)(gt,{})})})})}),document.getElementById("root"))},94:function(t,e,a){t.exports={is_done:"Task_is_done__7OfZP"}},95:function(t,e,a){t.exports={todolist:"Todolist_todolist__3Q8Uk"}}},[[146,1,2]]]);
//# sourceMappingURL=main.9b156123.chunk.js.map